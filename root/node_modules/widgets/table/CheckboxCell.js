
define('text!widgets/table/CheckboxCell/_checkboxCell.html',[],function () { return '<td class="elWidgets-TableCheckboxCell">\n    <div class="elWidgets-TableCheckboxCell-wrap">\n        <input class="ebCheckbox" type="checkbox" value="1"/>\n        <span class="ebCheckbox-inputStatus"></span>\n    </div>\n</td>';});

define('styles!widgets/table/CheckboxCell/_checkboxCell.less',[],function () { return '.elWidgets-TableCheckboxCell {\n  width: 12px;\n}\n.elWidgets-TableCheckboxCell-wrap {\n  text-align: center;\n  width: 100%;\n  margin-left: -4px;\n}\n';});

/*global define*/
define('widgets/table/CheckboxCell/CheckboxCellView',[
    'jscore/core',
    'text!./_checkboxCell.html',
    'styles!./_checkboxCell.less'
], function (core, template, styles) {
    

    return core.View.extend({

        afterRender: function () {
            this.checkbox = this.getElement().find('.ebCheckbox');
        },

        getTemplate: function () {
            return template;
        },

        getStyle: function () {
            return styles;
        },

        getCheckbox: function () {
            return this.checkbox;
        }

    });

});

/*global define*/
define('widgets/table/CheckboxCell/CheckboxCell',[
    'widgets/table/Cell',
    './CheckboxCellView'
], function (Cell, View) {
    

    /**
     * Provides a cell with a checkbox. When the checkbox is checked, the row will be highlighted. This cell should be
     * used in conjunction with the CheckboxHeaderCell.
     *
     * @class table.CheckboxCell
     * @extends table.Cell
     * @beta
     */
    return Cell.extend({

        View: View,

        onCellReady: function () {
            this.view.getCheckbox().addEventHandler('click', function (e) {
                e.originalEvent.stopPropagation();
                this.click(this.view.getCheckbox().getProperty('checked'));
            }, this);

            this.getEventBus().subscribe('CheckboxCell:check', function (checked) {
                this.view.getCheckbox().setProperty('checked', checked);
                this.getRow().highlight(checked);
            }, this);
        },

        click: function (checked) {
            this.getEventBus().publish('CheckboxHeaderCell:uncheck-header');
            this.getRow().highlight(checked);
        }

    });

});

define('widgets/table/CheckboxCell', ['widgets/table/CheckboxCell/CheckboxCell'], function (main) { return main; });
